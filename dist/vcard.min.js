!function(e){function t(e){for(var t,a,o,s,i,f={},p=e.split(/\r\n|\r|\n/),u=p.length,c=0;u>c;c++)if(""!=p[c]&&p[c].toUpperCase()!=n&&p[c].toUpperCase()!=r){t=p[c].split(":"),a=t[0],o=t[1],i=!1,s={};var h=function(e){return u>e+1&&(" "==p[e+1][0]||"	"==p[e+1][0])};if(h(c))for(;h(c);)o+=p[c+1].trim(),c++;if(a.match(/;/)){var l=a.split(";");a=l.shift(),l.forEach(function(e){var t=e.split("=");t[0]=t[0].toLowerCase(),s[t[0]]?s[t[0]].push(t[1]):s[t[0]]=[t[1]]})}if(o.match(/;/)&&(o=o.split(";")),a.match(/\./)){var v=a.split(".");a=v[1],i=v[0]}var m={value:o};Object.keys(s).length&&(m.meta=s),i&&(m.namespace=i),a=a.toLowerCase(),"undefined"==typeof f[a]?f[a]=[m]:f[a].push(m)}return f}function a(e){var t=[n],a="";return Object.keys(e).forEach(function(n){e[n].forEach(function(e){if(a="",e.namespace&&(a+=e.namespace+"."),a+=n.toUpperCase(),e.meta&&Object.keys(e.meta).forEach(function(t){e.meta[t].forEach(function(e){a+=";"+t.toUpperCase()+"="+e})}),a+=":",a+="string"==typeof e.value?e.value:e.value.join(";"),a.length>75){var r=a.substr(0,75),o=a.substr(75),s=o.match(/.{1,74}/g);t.push(r),s.forEach(function(e){t.push(" "+e)})}else t.push(a)})}),t.push(r),t.join("\r\n")}var n="BEGIN:VCARD",r="END:VCARD";e.vCard={parse:t,generate:a}}("undefined"!=typeof window?window:module.exports);